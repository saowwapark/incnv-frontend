<div class="layout--absolute-1vh">
  <!-- HEADER -->
  <div class="header__container">
    <div class="header__items">
      <!-- APP TITLE -->
      <span class="h2">Analysis</span>
    </div>
  </div>
  <!-- CONTENT -->

  <mat-vertical-stepper #stepper linear="false">
    <mat-step label="Choose Reference Genome">
      <mat-label>Reference Genome: </mat-label>
      <mat-radio-group [(ngModel)]="chosenReferenceGenome">
        <mat-radio-button value="grch37" checked>GRCh37/hg19</mat-radio-button>
        <mat-radio-button value="grch38">GRCh38/hg38</mat-radio-button>
      </mat-radio-group>

      <div>
        <button mat-button matStepperNext mat-raised-button color="primary">
          Next
        </button>
      </div>
    </mat-step>
    <mat-step label="Choose Sample Set">
      <app-choose-sampleset
        (previousStep)="goToPreviousStep()"
        (nextStep)="setSamplesetAndNextStep($event)"
      ></app-choose-sampleset>
    </mat-step>
    <mat-step label="Choose Sample">
      <app-choose-sample
        [samples]="chosenSampleset.samples"
        (previousStep)="goToPreviousStep()"
        (nextStep)="setSampleAndNextStep($event)"
      ></app-choose-sample>
    </mat-step>
    <mat-step label="Choose Files">
      <app-choose-file
        [samplesetId]="chosenSampleset.samplesetId"
        [referenceGenome]="chosenReferenceGenome"
        (previousStep)="goToPreviousStep()"
        (nextStep)="setUploadFilesAndNextStep($event)"
      >
      </app-choose-file>
    </mat-step>
    <mat-step label="Choose CNV Type">
      <div fxLayout="row" fxLayoutAlign="end center">
        <button mat-raised-button matStepperPrevious>Back</button>
        <button mat-raised-button color="primary" matStepperNext>
          Next
        </button>
      </div>

      <mat-label>CNV Type: </mat-label>
      <mat-radio-group [(ngModel)]="chosenCnvType">
        <mat-radio-button value="duplication" checked
          >duplication</mat-radio-button
        >
        <mat-radio-button value="deletion">deletion</mat-radio-button>
      </mat-radio-group>
    </mat-step>
    <mat-step label="Choose Chromosome">
      <div fxLayout="row" fxLayoutAlign="end center">
        <button mat-raised-button matStepperPrevious>Back</button>
        <button mat-raised-button color="primary" matStepperNext>
          Next
        </button>
      </div>
      <mat-form-field>
        <mat-label>Choose Chromosome...</mat-label>
        <app-filtered-select [options]="chrs" [(ngModel)]="chosenChr">
        </app-filtered-select>
      </mat-form-field>
    </mat-step>

    <mat-step label="Done">
      <div fxLayout="row" fxLayoutAlign="end center">
        <button mat-raised-button matStepperPrevious>Back</button>
      </div>
      <div class="h3">Conclusion</div>
      <p>Reference Genome: {{ chosenReferenceGenome }}</p>
      <p>
        Sampleset: {{ chosenSampleset.samplesetName }}, Sample:
        {{ chosenSample }}
      </p>
      <div *ngFor="let chosenFile of chosenFiles">
        <p>
          File name: {{ chosenFile.fileName }}, File Info.:
          {{ chosenFile.fileInfo }}, CNV Tool.: {{ chosenFile.cnvToolName }}
        </p>
      </div>

      <p>Chromosome: {{ chosenChr }}</p>
      <p>CNV Type: {{ chosenCnvType }}</p>
      Go to Analysis Process
    </mat-step>
  </mat-vertical-stepper>
  <div>
    <button
      mat-button
      mat-raised-button
      color="primary"
      [routerLink]="['/analysis/analysis-process']"
      (click)="confirmConfig()"
    >
      Confirm
    </button>
  </div>
</div>
